{
    "Runtype": {
        "": {
            "type": "node-post",
            "url": "http://127.0.0.1:12082/exec",
            "payload": "return ({code:content,filename:filename})",
            "show": "if(ret.error)throw new Error(ret.error);return ret.output"
        },
        "vt": {
            "type": "vscode-terminal",
            "message": "cat __filename__"
        },
        "nt": {
            "type": "node-terminal",
            "payload": "return [\"cat\",filename]"
        },
        "c": {
            "type": "concat",
            "filename": "workspace.py"
        }
    },
    "toolbar": [
        [
            {
                "text": "edit",
                "class": "primary",
                "click": "fg.toggleButton(btn);fg.toggleButton(btn.parentNode.parentNode.children[1-tindex].children[index]);fg.toggleMode();"
            },
            {
                "text": "+",
                "class": "edit",
                "click": "fg.scale(1.1)",
                "title": "视图放大"
            },
            {
                "text": "r",
                "class": "edit",
                "click": "fg.scale()",
                "title": "恢复初始视图大小"
            },
            {
                "text": "^",
                "class": "edit",
                "click": "fg.move(\"up\")"
            },
            {
                "text": "d",
                "class": "edit primary",
                "click": "fg.toggleButton(btn);fg.moveSetting.down*=-1",
                "title": "同时移动右下方的连接"
            },
            {
                "text": ">+",
                "class": "edit",
                "click": "fg.currentCard.node._pos.width+=100;fg.resetCurrentCardPos()"
            },
            {
                "text": "v+",
                "class": "edit",
                "click": "fg.currentCard.node._pos.height+=100;fg.resetCurrentCardPos()"
            },
            {
                "text": "连接",
                "class": "edit",
                "click": "fg.uiAddLine(fg.lastCard.index,fg.currentCard.index,\"next\",\"previous\")"
            },
            {
                "text": "复制",
                "class": "edit",
                "click": "fg.copyAndLink(fg.currentCard.index)"
            },
            {
                "text": "?启用",
                "class": "run",
                "click": "console.log(\"尚未实现\")"
            },
            {
                "text": "?重置快照链",
                "class": "run",
                "click": "console.log(\"尚未实现\")"
            },
            {
                "text": "测试1-打印nodes",
                "class": "edit",
                "click": "fg.print(\"\\n\\n\\n\\n\"+fg.simpleJson(fg.nodes)+\"\\n\\n\\n\\n\")"
            },
            {
                "text": "?以点击为起点深度优先自动排布",
                "class": "edit",
                "click": "console.log(\"尚未实现\")"
            }
        ],
        [
            {
                "text": "run ",
                "class": "",
                "click": "fg.toggleButton(btn);fg.toggleButton(btn.parentNode.parentNode.children[1-tindex].children[index]);fg.toggleMode();"
            },
            {
                "text": "-",
                "class": "edit",
                "click": "fg.scale(1/1.1)",
                "title": "视图缩小"
            },
            {
                "text": "<",
                "class": "edit",
                "click": "fg.move(\"left\")"
            },
            {
                "text": "v",
                "class": "edit",
                "click": "fg.move(\"down\")"
            },
            {
                "text": ">",
                "class": "edit",
                "click": "fg.move(\"right\")"
            },
            {
                "text": ">-",
                "class": "edit",
                "click": "fg.currentCard.node._pos.width-=100;fg.resetCurrentCardPos()"
            },
            {
                "text": "v-",
                "class": "edit",
                "click": "fg.currentCard.node._pos.height-=100;fg.resetCurrentCardPos()"
            },
            {
                "text": "断开",
                "class": "edit",
                "click": "fg.uiRemoveLine(fg.lastCard.index,fg.currentCard.index,\"next\",\"previous\")"
            },
            {
                "text": "删除",
                "class": "edit",
                "click": "fg.removeNode(fg.currentCard.index)"
            },
            {
                "text": "?禁用",
                "class": "run",
                "click": "console.log(\"尚未实现\")"
            },
            {
                "text": "?运行链",
                "class": "run",
                "click": "console.log(\"尚未实现\")"
            },
            {
                "text": "运行",
                "class": "run",
                "click": "fg.runNodes([fg.currentCard.index])"
            },
            {
                "text": "结果",
                "class": "run",
                "click": "fg.showResult(fg.currentCard.index)"
            },
            {
                "text": "测试2-打印config",
                "class": "edit",
                "click": "fg.print(fg.config)"
            },
            {
                "text": "测试3-打印fg",
                "class": "edit",
                "click": "fg.print(fg)"
            }
        ]
    ],
    "blockPrototype": {
        "blocks": {
            "NormalString": {
                "type": "input",
                "value": "NormalString_default"
            },
            "Snapshot": {
                "type": "snapshot",
                "value": null
            },
            "MultiString": {
                "type": "multi",
                "value": "MultiString_default"
            },
            "Runfile": {
                "type": "editabledroplist",
                "options": [
                    [
                        "",
                        ""
                    ],
                    [
                        "1",
                        "1"
                    ]
                ],
                "value": ""
            },
            "Runtype": {
                "type": "editabledroplist",
                "options": [
                    [
                        "",
                        ""
                    ],
                    [
                        "1",
                        "1"
                    ],
                    [
                        "2",
                        "2"
                    ],
                    [
                        "3",
                        "3"
                    ]
                ],
                "value": ""
            },
            "runfile": {
                "type": "runfile",
                "message": "%1\n%2\n%3 %4",
                "run": "%1\n%2\n%3",
                "args": [
                    {
                        "name": "comment",
                        "type": "MultiString",
                        "value": "comment"
                    },
                    {
                        "name": "filename",
                        "type": "Runfile",
                        "value": "a.py"
                    },
                    {
                        "name": "snapshot",
                        "type": "Snapshot",
                        "value": null
                    },
                    {
                        "name": "runtype",
                        "type": "Runtype",
                        "value": ""
                    }
                ],
                "typename": null,
                "checkType": "args",
                "linkTo": [
                    {
                        "name": "next",
                        "position": "down",
                        "range": "runfile"
                    }
                ],
                "linkFrom": [
                    {
                        "name": "previous",
                        "position": "up",
                        "range": "runfile"
                    }
                ]
            }
        }
    }
}